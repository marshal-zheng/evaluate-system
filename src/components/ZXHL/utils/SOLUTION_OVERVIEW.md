# è¯„ä¼°æ•°æ®å¤„ç†å·¥å…·å®Œæ•´è§£å†³æ–¹æ¡ˆ

## ğŸ“‹ æ¦‚è¿°

æœ¬è§£å†³æ–¹æ¡ˆä¸ºè¯„ä¼°ç³»ç»Ÿæä¾›äº†ä¸€å¥—å®Œæ•´çš„æ•°æ®å¤„ç†å·¥å…·ï¼Œèƒ½å¤Ÿå°†è¯„ä¼°æ¥å£è¿”å›çš„åŸå§‹æ•°æ®è½¬æ¢ä¸ºå„ç§å›¾è¡¨ç»„ä»¶ï¼ˆåŸºäºEChartsï¼‰å’Œè¡¨æ ¼ç»„ä»¶æ‰€éœ€çš„æ ¼å¼ã€‚

## ğŸ¯ è§£å†³çš„é—®é¢˜

1. **æ•°æ®æ ¼å¼ä¸åŒ¹é…**ï¼šè¯„ä¼°æ¥å£è¿”å›çš„æ•°æ®æ ¼å¼ä¸å›¾è¡¨ç»„ä»¶éœ€è¦çš„æ ¼å¼ä¸ä¸€è‡´
2. **é‡å¤è½¬æ¢é€»è¾‘**ï¼šé¿å…åœ¨æ¯ä¸ªç»„ä»¶ä¸­é‡å¤ç¼–å†™æ•°æ®è½¬æ¢ä»£ç 
3. **åŠ¨æ€åˆ—å¤„ç†**ï¼šTableWidgetéœ€è¦æ ¹æ®æ•°æ®åŠ¨æ€ç”Ÿæˆåˆ—é…ç½®
4. **é…ç½®åˆå¹¶**ï¼šéœ€è¦å°†åŸºç¡€é…ç½®ä¸æ•°æ®é…ç½®è¿›è¡Œåˆå¹¶

## ğŸ“ æ–‡ä»¶ç»“æ„

```
src/components/ZXHL/utils/
â”œâ”€â”€ index.js                           # å·¥å…·å…¥å£æ–‡ä»¶
â”œâ”€â”€ evaluationDataProcessor.js         # æ ¸å¿ƒæ•°æ®å¤„ç†å·¥å…·
â”œâ”€â”€ evaluationDataProcessor.examples.js # ä½¿ç”¨ç¤ºä¾‹
â”œâ”€â”€ evaluationDataProcessor.test.js    # æµ‹è¯•æ–‡ä»¶
â”œâ”€â”€ dashboardDataHandler.js            # Dashboardé›†æˆæ–¹æ¡ˆ
â””â”€â”€ README.md                          # è¯¦ç»†æ–‡æ¡£
```

## ğŸ”§ æ ¸å¿ƒåŠŸèƒ½

### 1. å›¾è¡¨æ•°æ®è½¬æ¢

æ”¯æŒä»¥ä¸‹å›¾è¡¨ç±»å‹ï¼š

| å›¾è¡¨ç±»å‹ | å‡½æ•°å | è¯´æ˜ |
|---------|--------|------|
| æŸ±çŠ¶å›¾ | `transformToBarChart()` | é€‚åˆå¯¹æ¯”ä¸åŒç³»åˆ—çš„æŒ‡æ ‡å€¼ |
| é›·è¾¾å›¾ | `transformToRadarChart()` | é€‚åˆå¤šç»´åº¦ç»¼åˆåˆ†æ |
| æŠ˜çº¿å›¾ | `transformToLineChart()` | é€‚åˆè¶‹åŠ¿åˆ†æ |
| æ›²çº¿å›¾ | `transformToCurveChart()` | å¹³æ»‘çš„æŠ˜çº¿å›¾ |
| é¢ç§¯å›¾ | `transformToAreaChart()` | å¸¦å¡«å……çš„æŠ˜çº¿å›¾ |
| é¥¼å›¾ | `transformToPieChart()` | é€‚åˆåˆ†å¸ƒåˆ†æ |
| æ•£ç‚¹å›¾ | `transformToScatterChart()` | é€‚åˆç›¸å…³æ€§åˆ†æ |

### 2. è¡¨æ ¼æ•°æ®è½¬æ¢

- **åŠ¨æ€åˆ—ç”Ÿæˆ**ï¼šæ ¹æ®`titleList`åŠ¨æ€åˆ›å»ºåˆ—é…ç½®
- **æ•°æ®è½¬æ¢**ï¼šå°†äºŒç»´æ•°ç»„è½¬æ¢ä¸ºå¯¹è±¡æ•°ç»„
- **ç±»å‹è½¬æ¢**ï¼šå­—ç¬¦ä¸²æ•°æ®è‡ªåŠ¨è½¬æ¢ä¸ºæ•°å­—

### 3. é€šç”¨è½¬æ¢æ¥å£

- `transformByChartType()` - æ ¹æ®ç±»å‹å­—ç¬¦ä¸²è½¬æ¢
- `batchTransformEvaluationData()` - æ‰¹é‡è½¬æ¢å¤šç§æ ¼å¼

## ğŸ“Š æ•°æ®æµç¨‹

```
è¯„ä¼°æ¥å£æ•°æ®
    â†“
evaluationDataProcessor.js
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  å›¾è¡¨é…ç½®   â”‚  è¡¨æ ¼é…ç½®   â”‚  å…¶ä»–æ ¼å¼   â”‚
â”‚  (ECharts)  â”‚ (TableWidget)â”‚            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â†“               â†“               â†“
å›¾è¡¨ç»„ä»¶        è¡¨æ ¼ç»„ä»¶        å…¶ä»–ç»„ä»¶
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. åŸºæœ¬ä½¿ç”¨

```javascript
import { transformToBarChart, transformToTableData } from '@/components/ZXHL/utils'

// è½¬æ¢å›¾è¡¨æ•°æ®
const chartOptions = transformToBarChart(evaluationData, {
  title: { text: 'è¯„ä¼°ç»“æœ' }
})

// è½¬æ¢è¡¨æ ¼æ•°æ®
const tableConfig = transformToTableData(evaluationData)
```

### 2. åœ¨Vueç»„ä»¶ä¸­ä½¿ç”¨

```vue
<template>
  <div>
    <div ref="chartRef" style="height: 400px;"></div>
    <TableWidget :columns="tableConfig.columns" :data="tableConfig.data" />
  </div>
</template>

<script setup>
import { transformToBarChart, transformToTableData } from '@/components/ZXHL/utils'
// ... å…¶ä»–ä»£ç 
</script>
```

### 3. Dashboardé›†æˆ

```javascript
import { DashboardDataHandler } from '@/components/ZXHL/utils/dashboardDataHandler'

// å¤„ç†æ•°æ®å¹¶ç”Ÿæˆé¢æ¿é…ç½®
const processedData = DashboardDataHandler.processEvaluationData(evaluationData)
const panels = DashboardDataHandler.createPanelConfigs(processedData)
```

## ğŸ” æ”¯æŒçš„æ•°æ®æ ¼å¼

### è¾“å…¥æ ¼å¼ï¼ˆè¯„ä¼°æ¥å£è¿”å›ï¼‰

```javascript
{
  "success": true,
  "data": {
    "zhpgObjectResultList": [
      ["0.90888", "0.87", "0.8284", ...], // ç³»åˆ—1æ•°æ®
      ["0.87364", "0.93", "0.8072", ...]  // ç³»åˆ—2æ•°æ®
    ],
    "detailNames": [
      "ä½œæˆ˜ä»»åŠ¡æ•ˆèƒ½è¯„ä¼°",
      "ç«åŠ›æ‰“å‡»èƒ½åŠ›", 
      "é˜²å¾¡èƒ½åŠ›"
      // ...æ›´å¤šæŒ‡æ ‡
    ],
    "titleList": [
      "æœ‰ç”µæ± ",
      "æ— ç”µæ± "
    ],
    "type": "1"
  }
}
```

### è¾“å‡ºæ ¼å¼ç¤ºä¾‹

#### EChartsæŸ±çŠ¶å›¾é…ç½®
```javascript
{
  xAxis: { type: 'category', data: ['ä½œæˆ˜ä»»åŠ¡æ•ˆèƒ½è¯„ä¼°', ...] },
  yAxis: { type: 'value', min: 0, max: 1 },
  series: [
    { name: 'æœ‰ç”µæ± ', type: 'bar', data: [0.90888, 0.87, ...] },
    { name: 'æ— ç”µæ± ', type: 'bar', data: [0.87364, 0.93, ...] }
  ],
  legend: { data: ['æœ‰ç”µæ± ', 'æ— ç”µæ± '] }
}
```

#### TableWidgeté…ç½®
```javascript
{
  columns: [
    { key: 'indicator', title: 'è¯„ä¼°æŒ‡æ ‡', width: 200 },
    { key: 'series_0', title: 'æœ‰ç”µæ± ', width: 120 },
    { key: 'series_1', title: 'æ— ç”µæ± ', width: 120 }
  ],
  data: [
    { id: 'row_0', indicator: 'ä½œæˆ˜ä»»åŠ¡æ•ˆèƒ½è¯„ä¼°', series_0: 0.90888, series_1: 0.87364 },
    // ...æ›´å¤šè¡Œ
  ]
}
```

## âœ… ç‰¹æ€§

- **ğŸ”§ çµæ´»é…ç½®**ï¼šæ”¯æŒåŸºç¡€é…ç½®ä¸æ•°æ®é…ç½®çš„æ·±åº¦åˆå¹¶
- **ğŸ›¡ï¸ é”™è¯¯å¤„ç†**ï¼šå®Œå–„çš„å¼‚å¸¸å¤„ç†æœºåˆ¶ï¼Œä¿è¯ç³»ç»Ÿç¨³å®šæ€§
- **ğŸ“Š å¤šæ ¼å¼æ”¯æŒ**ï¼šæ”¯æŒ7ç§å›¾è¡¨ç±»å‹ + è¡¨æ ¼æ•°æ®
- **ğŸ”„ æ‰¹é‡å¤„ç†**ï¼šæ”¯æŒä¸€æ¬¡æ€§è½¬æ¢å¤šç§æ ¼å¼
- **ğŸ“± å“åº”å¼**ï¼šè‡ªåŠ¨é€‚é…ä¸åŒå°ºå¯¸çš„å®¹å™¨
- **ğŸ¨ ä¸»é¢˜å…¼å®¹**ï¼šä¸ç³»ç»Ÿä¸»é¢˜æ— ç¼é›†æˆ

## ğŸ§ª æµ‹è¯•

è¿è¡Œæµ‹è¯•éªŒè¯åŠŸèƒ½ï¼š

```javascript
import { runTests } from '@/components/ZXHL/utils/evaluationDataProcessor.test.js'
runTests() // åœ¨æµè§ˆå™¨æ§åˆ¶å°æŸ¥çœ‹æµ‹è¯•ç»“æœ
```

## ğŸ“– è¯¦ç»†æ–‡æ¡£

- [å®Œæ•´APIæ–‡æ¡£](./README.md)
- [ä½¿ç”¨ç¤ºä¾‹](./evaluationDataProcessor.examples.js)
- [æµ‹è¯•ç”¨ä¾‹](./evaluationDataProcessor.test.js)
- [Dashboardé›†æˆæ–¹æ¡ˆ](./dashboardDataHandler.js)

## ğŸ”® æ‰©å±•æ€§

å·¥å…·è®¾è®¡å…·æœ‰è‰¯å¥½çš„æ‰©å±•æ€§ï¼š

1. **æ–°å¢å›¾è¡¨ç±»å‹**ï¼šåœ¨`evaluationDataProcessor.js`ä¸­æ·»åŠ æ–°çš„è½¬æ¢å‡½æ•°
2. **è‡ªå®šä¹‰æ•°æ®å¤„ç†**ï¼šç»§æ‰¿åŸºç¡€è½¬æ¢å‡½æ•°ï¼Œå®ç°ç‰¹å®šä¸šåŠ¡é€»è¾‘
3. **æ’ä»¶æœºåˆ¶**ï¼šå¯ä»¥ä½œä¸ºæ’ä»¶é›†æˆåˆ°å…¶ä»–ç³»ç»Ÿä¸­

## ğŸ’¡ æœ€ä½³å®è·µ

1. **é…ç½®å¤ç”¨**ï¼šå°†å¸¸ç”¨çš„å›¾è¡¨é…ç½®æå–ä¸ºå¸¸é‡
2. **é”™è¯¯å¤„ç†**ï¼šåœ¨ç»„ä»¶ä¸­å¦¥å–„å¤„ç†è½¬æ¢å¤±è´¥çš„æƒ…å†µ
3. **æ€§èƒ½ä¼˜åŒ–**ï¼šå¯¹äºå¤§æ•°æ®é‡ï¼Œè€ƒè™‘ä½¿ç”¨åˆ†é¡µæˆ–è™šæ‹Ÿæ»šåŠ¨
4. **ç¼“å­˜ç­–ç•¥**ï¼šå¯¹è½¬æ¢ç»“æœè¿›è¡Œé€‚å½“ç¼“å­˜ï¼Œé¿å…é‡å¤è®¡ç®—

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤Issueå’ŒPull Requestæ¥æ”¹è¿›è¿™ä¸ªå·¥å…·ï¼