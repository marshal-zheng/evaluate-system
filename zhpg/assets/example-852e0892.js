import{r,v as A,Y as K,o as x,c as B,a as e,L as Q,a8 as Y,J as D,w as y,a0 as J,e as g,t as c,K as Z,ak as O,aH as q,i as L,a3 as G,O as $,aI as j,Q as X,m as ll,E as P,_ as el,b as n,d as tl,f as ol,aJ as sl}from"./index-b28d76a3.js";const al={class:"zx-tags-input-container"},nl={class:"zx-tags-input-tags"},dl={key:0,class:"zx-tags-input-error"},ul={key:1,class:"zx-tags-input-tip"},i={__name:"index",props:{modelValue:{type:Array,default:()=>[]},placeholder:{type:String,default:""},maxCount:{type:Number,default:10},maxLength:{type:Number,default:20},minLength:{type:Number,default:1},allowDuplicates:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},size:{type:String,default:"default",validator:b=>["large","default","small"].includes(b)},tagType:{type:String,default:"",validator:b=>["","success","info","warning","danger"].includes(b)},tagEffect:{type:String,default:"light",validator:b=>["dark","light","plain"].includes(b)},showAddButton:{type:Boolean,default:!1},addButtonText:{type:String,default:""},showWordLimit:{type:Boolean,default:!1},showTip:{type:Boolean,default:!0},validator:{type:Function,default:null},class:{type:String,default:""},addOnBlur:{type:Boolean,default:!1},trimValue:{type:Boolean,default:!0}},emits:["update:modelValue","change","add","remove","tag-click","focus","blur","input-change"],setup(b,{expose:T,emit:_}){const t=b,d=_,u=r([...t.modelValue]),m=r(""),v=r(),C=r(!0),p=A(()=>u.value.length>=t.maxCount),w=A(()=>m.value.length>t.maxLength?"标签长度不能超过 ".concat(t.maxLength," 个字符"):p.value&&m.value.trim()?"最多只能添加 ".concat(t.maxCount," 个标签"):""),h=A(()=>{const s=u.value.length,V=t.maxCount;return"已添加 ".concat(s,"/").concat(V," 个标签")});K(()=>t.modelValue,s=>{u.value=[...s]},{deep:!0}),K(()=>u.value,s=>{d("update:modelValue",[...s]),d("change",[...s])},{deep:!0}),K(()=>m.value,s=>{d("input-change",s)});const f=()=>{let s=m.value;if(t.trimValue&&(s=s.trim()),!!s){if(s.length<t.minLength){$.warning("标签长度不能少于 ".concat(t.minLength," 个字符"));return}if(s.length>t.maxLength){$.warning("标签长度不能超过 ".concat(t.maxLength," 个字符"));return}if(p.value){$.warning("最多只能添加 ".concat(t.maxCount," 个标签"));return}if(!t.allowDuplicates&&u.value.includes(s)){$.warning("标签已存在");return}t.validator&&!t.validator(s)||(u.value.push(s),m.value="",d("add",s),j(()=>{v.value&&!p.value&&v.value.focus()}))}},z=s=>{const V=u.value[s];u.value.splice(s,1),d("remove",V,s),j(()=>{v.value&&v.value.focus()})},E=(s,V)=>{d("tag-click",s,V)},S=()=>{!m.value&&u.value.length>0&&z(u.value.length-1)},I=()=>{t.addOnBlur&&m.value.trim()&&f(),d("blur")},N=()=>{d("focus")};return T({focus:()=>{v.value&&v.value.focus()},blur:()=>{v.value&&v.value.blur()},addTag:f,removeTag:z,clear:()=>{u.value=[],m.value=""}}),(s,V)=>{const M=X,F=ll,R=P;return x(),B("div",{class:G(["zx-tags-input",t.class])},[e("div",al,[e("div",nl,[(x(!0),B(Q,null,Y(u.value,(k,a)=>(x(),D(M,{key:a,closable:!t.readonly&&!t.disabled,type:t.tagType,size:t.size,effect:t.tagEffect,onClose:l=>z(a),onClick:l=>E(k,a)},{default:y(()=>[J(s.$slots,"tag",{tag:k,index:a},()=>[g(c(k),1)])]),_:2},1032,["closable","type","size","effect","onClose","onClick"]))),128))]),!t.readonly&&C.value?(x(),D(F,{key:0,ref_key:"inputRef",ref:v,modelValue:m.value,"onUpdate:modelValue":V[0]||(V[0]=k=>m.value=k),placeholder:t.placeholder||"请输入标签，按回车添加",size:t.size,disabled:t.disabled,maxlength:t.maxLength,"show-word-limit":t.showWordLimit,class:"zx-tags-input-input",onKeydown:[O(q(f,["prevent"]),["enter"]),O(S,["backspace"])],onBlur:I,onFocus:N},Z({_:2},[s.$slots.prefix?{name:"prefix",fn:y(()=>[J(s.$slots,"prefix")]),key:"0"}:void 0,s.$slots.suffix?{name:"suffix",fn:y(()=>[J(s.$slots,"suffix")]),key:"1"}:void 0]),1032,["modelValue","placeholder","size","disabled","maxlength","show-word-limit","onKeydown"])):L("",!0),t.showAddButton&&!t.readonly?(x(),D(R,{key:1,size:t.size,disabled:t.disabled||!m.value.trim()||p.value,onClick:f},{default:y(()=>[g(c(t.addButtonText||"添加"),1)]),_:1},8,["size","disabled"])):L("",!0)]),w.value?(x(),B("div",dl,c(w.value),1)):L("",!0),t.showTip&&!w.value?(x(),B("div",ul,c(h.value),1)):L("",!0)],2)}}};const il={class:"zx-tags-input-demo"},rl={class:"demo-section"},ml={class:"demo-block"},vl={class:"demo-result"},pl={class:"demo-section"},gl={class:"demo-block"},fl={class:"demo-result"},Vl={class:"demo-section"},yl={class:"demo-block"},cl={class:"size-demo"},bl={class:"size-item"},xl={class:"size-item"},kl={class:"size-item"},wl={class:"demo-section"},Tl={class:"demo-block"},_l={class:"type-demo"},zl={class:"type-item"},Bl={class:"type-item"},$l={class:"type-item"},Cl={class:"type-item"},hl={class:"type-item"},Ul={class:"demo-section"},Ll={class:"demo-block"},El={class:"limit-demo"},Sl={class:"limit-item"},Il={class:"limit-item"},Nl={class:"limit-item"},Ml={class:"demo-section"},Fl={class:"demo-block"},Rl={class:"demo-section"},Al={class:"demo-block"},Kl={class:"state-demo"},Dl={class:"state-item"},Jl={class:"state-item"},Ol={class:"demo-section"},jl={class:"demo-block"},Pl={class:"demo-result"},Wl={class:"demo-section"},Hl={class:"demo-block"},Ql={class:"custom-tag-content"},Yl={class:"tag-index"},Zl={class:"demo-section"},ql={class:"demo-block"},Gl={class:"demo-actions"},Xl={__name:"example",setup(b){const T=r(["Vue","Element Plus"]),_=r(["JavaScript","TypeScript"]),t=r({large:["大尺寸"],default:["默认尺寸"],small:["小尺寸"]}),d=r({default:["默认"],success:["成功"],info:["信息"],warning:["警告"],danger:["危险"]}),u=r({count:["标签1","标签2"],length:["短标签"],duplicate:["重复","重复"]}),m=r(["123","456"]),v=r({readonly:["只读标签1","只读标签2"],disabled:["禁用标签"]}),C=r(["事件标签"]),p=r(""),w=r(["自定义标签"]),h=r(["方法测试"]),f=r(),z=a=>{console.log("基础标签变化:",a)},E=a=>{const l=/^\d+$/.test(a);return l||$.warning("只能添加纯数字标签"),l},S=a=>{p.value="添加标签: ".concat(a)},I=(a,l)=>{p.value="删除标签: ".concat(a," (索引: ").concat(l,")")},N=(a,l)=>{p.value="点击标签: ".concat(a," (索引: ").concat(l,")")},s=()=>{p.value="输入框获得焦点"},V=()=>{p.value="输入框失去焦点"},M=()=>{var a;(a=f.value)==null||a.focus()},F=()=>{var a;(a=f.value)==null||a.blur()},R=()=>{var a;(a=f.value)==null||a.addTag()},k=()=>{var a;(a=f.value)==null||a.clear()};return(a,l)=>{const W=ol,U=P;return x(),B("div",il,[l[60]||(l[60]=e("div",{class:"demo-header"},[e("h1",null,"ZxTagsInput 标签输入组件"),e("p",null,"基于 Element Plus 的标签输入组件，支持多种配置和自定义验证。")],-1)),e("div",rl,[l[20]||(l[20]=e("h2",null,"基础用法",-1)),l[21]||(l[21]=e("p",null,"最简单的用法，支持回车添加标签，点击删除标签。",-1)),e("div",ml,[n(i,{modelValue:T.value,"onUpdate:modelValue":l[0]||(l[0]=o=>T.value=o),placeholder:"请输入标签，按回车添加",onChange:z},null,8,["modelValue"]),e("div",vl,[l[19]||(l[19]=e("strong",null,"当前标签：",-1)),g(c(T.value.join(", ")||"无"),1)])])]),e("div",pl,[l[23]||(l[23]=e("h2",null,"带添加按钮",-1)),l[24]||(l[24]=e("p",null,"显示添加按钮，可以通过按钮添加标签。",-1)),e("div",gl,[n(i,{modelValue:_.value,"onUpdate:modelValue":l[1]||(l[1]=o=>_.value=o),placeholder:"输入标签内容","show-add-button":!0,"add-button-text":"添加标签"},null,8,["modelValue"]),e("div",fl,[l[22]||(l[22]=e("strong",null,"当前标签：",-1)),g(c(_.value.join(", ")||"无"),1)])])]),e("div",Vl,[l[28]||(l[28]=e("h2",null,"不同尺寸",-1)),l[29]||(l[29]=e("p",null,"提供大、默认、小三种尺寸。",-1)),e("div",yl,[e("div",cl,[e("div",bl,[l[25]||(l[25]=e("label",null,"大尺寸：",-1)),n(i,{modelValue:t.value.large,"onUpdate:modelValue":l[2]||(l[2]=o=>t.value.large=o),size:"large",placeholder:"大尺寸标签输入"},null,8,["modelValue"])]),e("div",xl,[l[26]||(l[26]=e("label",null,"默认尺寸：",-1)),n(i,{modelValue:t.value.default,"onUpdate:modelValue":l[3]||(l[3]=o=>t.value.default=o),size:"default",placeholder:"默认尺寸标签输入"},null,8,["modelValue"])]),e("div",kl,[l[27]||(l[27]=e("label",null,"小尺寸：",-1)),n(i,{modelValue:t.value.small,"onUpdate:modelValue":l[4]||(l[4]=o=>t.value.small=o),size:"small",placeholder:"小尺寸标签输入"},null,8,["modelValue"])])])])]),e("div",wl,[l[35]||(l[35]=e("h2",null,"标签类型",-1)),l[36]||(l[36]=e("p",null,"支持不同类型的标签样式。",-1)),e("div",Tl,[e("div",_l,[e("div",zl,[l[30]||(l[30]=e("label",null,"默认类型：",-1)),n(i,{modelValue:d.value.default,"onUpdate:modelValue":l[5]||(l[5]=o=>d.value.default=o),"tag-type":"",placeholder:"默认类型标签"},null,8,["modelValue"])]),e("div",Bl,[l[31]||(l[31]=e("label",null,"成功类型：",-1)),n(i,{modelValue:d.value.success,"onUpdate:modelValue":l[6]||(l[6]=o=>d.value.success=o),"tag-type":"success",placeholder:"成功类型标签"},null,8,["modelValue"])]),e("div",$l,[l[32]||(l[32]=e("label",null,"信息类型：",-1)),n(i,{modelValue:d.value.info,"onUpdate:modelValue":l[7]||(l[7]=o=>d.value.info=o),"tag-type":"info",placeholder:"信息类型标签"},null,8,["modelValue"])]),e("div",Cl,[l[33]||(l[33]=e("label",null,"警告类型：",-1)),n(i,{modelValue:d.value.warning,"onUpdate:modelValue":l[8]||(l[8]=o=>d.value.warning=o),"tag-type":"warning",placeholder:"警告类型标签"},null,8,["modelValue"])]),e("div",hl,[l[34]||(l[34]=e("label",null,"危险类型：",-1)),n(i,{modelValue:d.value.danger,"onUpdate:modelValue":l[9]||(l[9]=o=>d.value.danger=o),"tag-type":"danger",placeholder:"危险类型标签"},null,8,["modelValue"])])])])]),e("div",Ul,[l[40]||(l[40]=e("h2",null,"限制配置",-1)),l[41]||(l[41]=e("p",null,"可以限制标签数量、长度等。",-1)),e("div",Ll,[e("div",El,[e("div",Sl,[l[37]||(l[37]=e("label",null,"最多3个标签：",-1)),n(i,{modelValue:u.value.count,"onUpdate:modelValue":l[10]||(l[10]=o=>u.value.count=o),"max-count":3,placeholder:"最多添加3个标签"},null,8,["modelValue"])]),e("div",Il,[l[38]||(l[38]=e("label",null,"标签长度2-8字符：",-1)),n(i,{modelValue:u.value.length,"onUpdate:modelValue":l[11]||(l[11]=o=>u.value.length=o),"min-length":2,"max-length":8,"show-word-limit":!0,placeholder:"标签长度2-8字符"},null,8,["modelValue"])]),e("div",Nl,[l[39]||(l[39]=e("label",null,"允许重复标签：",-1)),n(i,{modelValue:u.value.duplicate,"onUpdate:modelValue":l[12]||(l[12]=o=>u.value.duplicate=o),"allow-duplicates":!0,placeholder:"允许添加重复标签"},null,8,["modelValue"])])])])]),e("div",Ml,[l[43]||(l[43]=e("h2",null,"自定义验证",-1)),l[44]||(l[44]=e("p",null,"可以添加自定义验证规则。",-1)),e("div",Fl,[n(i,{modelValue:m.value,"onUpdate:modelValue":l[13]||(l[13]=o=>m.value=o),validator:E,placeholder:"只能添加数字标签"},null,8,["modelValue"]),l[42]||(l[42]=e("div",{class:"demo-result"},[e("strong",null,"验证规则："),g("只能添加纯数字标签 ")],-1))])]),e("div",Rl,[l[47]||(l[47]=e("h2",null,"状态演示",-1)),l[48]||(l[48]=e("p",null,"只读和禁用状态。",-1)),e("div",Al,[e("div",Kl,[e("div",Dl,[l[45]||(l[45]=e("label",null,"只读状态：",-1)),n(i,{modelValue:v.value.readonly,"onUpdate:modelValue":l[14]||(l[14]=o=>v.value.readonly=o),readonly:!0},null,8,["modelValue"])]),e("div",Jl,[l[46]||(l[46]=e("label",null,"禁用状态：",-1)),n(i,{modelValue:v.value.disabled,"onUpdate:modelValue":l[15]||(l[15]=o=>v.value.disabled=o),disabled:!0,placeholder:"禁用状态"},null,8,["modelValue"])])])])]),e("div",Ol,[l[50]||(l[50]=e("h2",null,"事件监听",-1)),l[51]||(l[51]=e("p",null,"监听各种事件。",-1)),e("div",jl,[n(i,{modelValue:C.value,"onUpdate:modelValue":l[16]||(l[16]=o=>C.value=o),placeholder:"操作标签查看事件",onAdd:S,onRemove:I,onTagClick:N,onFocus:s,onBlur:V},null,8,["modelValue"]),e("div",Pl,[l[49]||(l[49]=e("strong",null,"最近事件：",-1)),g(c(p.value||"无"),1)])])]),e("div",Wl,[l[52]||(l[52]=e("h2",null,"插槽使用",-1)),l[53]||(l[53]=e("p",null,"自定义标签内容。",-1)),e("div",Hl,[n(i,{modelValue:w.value,"onUpdate:modelValue":l[17]||(l[17]=o=>w.value=o),placeholder:"添加标签查看自定义样式"},{tag:y(({tag:o,index:H})=>[e("span",Ql,[n(W,null,{default:y(()=>[n(tl(sl))]),_:1}),g(" "+c(o)+" ",1),e("span",Yl,"#"+c(H+1),1)])]),_:1},8,["modelValue"])])]),e("div",Zl,[l[58]||(l[58]=e("h2",null,"方法调用",-1)),l[59]||(l[59]=e("p",null,"通过 ref 调用组件方法。",-1)),e("div",ql,[n(i,{ref_key:"methodRef",ref:f,modelValue:h.value,"onUpdate:modelValue":l[18]||(l[18]=o=>h.value=o),placeholder:"测试方法调用"},null,8,["modelValue"]),e("div",Gl,[n(U,{onClick:M},{default:y(()=>[...l[54]||(l[54]=[g("聚焦输入框",-1)])]),_:1}),n(U,{onClick:F},{default:y(()=>[...l[55]||(l[55]=[g("失焦输入框",-1)])]),_:1}),n(U,{onClick:R},{default:y(()=>[...l[56]||(l[56]=[g("添加标签",-1)])]),_:1}),n(U,{onClick:k},{default:y(()=>[...l[57]||(l[57]=[g("清空标签",-1)])]),_:1})])])])])}}},ee=el(Xl,[["__scopeId","data-v-c919a6db"]]);export{ee as default};
