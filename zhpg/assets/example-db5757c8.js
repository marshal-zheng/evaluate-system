import{_ as O,r as k,Y as V,o as _,J as g,w as l,a0 as N,a as o,b as n,d as D,aX as P,i as U,t as F,c as q,ak as K,f as Z,m as j,V as H,U as J,aY as L,e as u,O as y,E as M,P as W}from"./index-b28d76a3.js";/* empty css                 */const X={class:"zx-popconfirm__content"},G={class:"zx-popconfirm__header"},Q={class:"zx-popconfirm__title"},ee={key:0,class:"zx-popconfirm__subtitle"},te={__name:"index",props:{title:{type:String,required:!0},subTitleTip:{type:String,default:""},type:{type:String,default:"warning",validator:C=>["error","info","success","warning"].includes(C)},isDelete:{type:Boolean,default:!0},loading:{type:Boolean,default:!1},okText:{type:String,default:"确认"},cancelText:{type:String,default:"取消"},visible:{type:Boolean,default:!1},fieldConfig:{type:Object,default:null},allNames:{type:Array,default:()=>[]},nodeId:{type:String,default:""}},emits:["confirm","cancel","update:visible","open","close"],setup(C,{emit:p}){var S;const t=C,c=p,m=k(t.visible||!1),x=k(),d=k({field:((S=t.fieldConfig)==null?void 0:S.field)||""}),r=()=>{var i,f;d.value.field=((i=t.fieldConfig)==null?void 0:i.field)||"",(f=x.value)==null||f.resetFields()},e=()=>{m.value=!1,c("cancel"),r()},s=()=>{if(!x.value){c("confirm",{field:d.value.field,id:t.nodeId},e);return}x.value.validate(i=>{i&&c("confirm",{field:d.value.field,id:t.nodeId},e)})},a=()=>{c("open")},b=()=>{c("close"),c("update:visible",!1)},A=(i,f,h)=>{var v;if((t.allNames||[]).includes(f)){const T=((v=t.fieldConfig)==null?void 0:v.nameExistTipText)||"名称已存在！";h(new Error(T))}else h()};return V(()=>{var i;return(i=t.fieldConfig)==null?void 0:i.field},i=>{d.value.field=i||""}),V(()=>t.visible,i=>{m.value=i}),V(()=>m.value,i=>{i||c("cancel"),c("update:visible",i)}),(i,f)=>{const h=Z,v=j,T=H,R=J,Y=L;return _(),g(Y,{visible:m.value,"onUpdate:visible":f[2]||(f[2]=w=>m.value=w),title:t.title,"confirm-button-text":t.okText||"确认","cancel-button-text":t.cancelText||"取消","confirm-button-type":t.type==="error"?"danger":"primary",icon:t.isDelete?D(P):null,"icon-color":t.isDelete?"#f56c6c":"#409eff",width:t.isDelete?352:200,placement:t.isDelete?"bottom-end":"bottom",disabled:t.loading,onConfirm:s,onCancel:e,onShow:a,onHide:b},{reference:l(()=>[N(i.$slots,"default",{},void 0,!0)]),default:l(()=>[o("div",X,[o("div",G,[N(i.$slots,"icon",{},()=>[t.isDelete?(_(),g(h,{key:0,class:"zx-popconfirm__icon"},{default:l(()=>[n(D(P))]),_:1})):U("",!0)],!0),o("div",Q,F(t.title||""),1)]),t.subTitleTip?(_(),q("div",ee,F(t.subTitleTip),1)):t.fieldConfig?(_(),g(R,{key:1,ref_key:"formRef",ref:x,model:d.value,class:"zx-popconfirm__form"},{default:l(()=>{var w;return[n(T,{prop:"field",rules:((w=t.fieldConfig)==null?void 0:w.rules)||[{required:!0,message:"名称不能为空！"},{validator:A,trigger:"blur"}]},{default:l(()=>{var z,I,$,B;return[(z=t.fieldConfig)!=null&&z.isTextArea?(_(),g(v,{key:1,modelValue:d.value.field,"onUpdate:modelValue":f[1]||(f[1]=E=>d.value.field=E),type:"textarea",maxlength:(($=t.fieldConfig)==null?void 0:$.maxLength)||1e3,rows:4,placeholder:(B=t.fieldConfig)==null?void 0:B.placeholder,class:"zx-popconfirm__textarea",onKeyup:K(s,["enter"])},null,8,["modelValue","maxlength","placeholder"])):(_(),g(v,{key:0,modelValue:d.value.field,"onUpdate:modelValue":f[0]||(f[0]=E=>d.value.field=E),maxlength:255,placeholder:(I=t.fieldConfig)==null?void 0:I.placeholder,class:"zx-popconfirm__input",onKeyup:K(s,["enter"])},null,8,["modelValue","placeholder"]))]}),_:1},8,["rules"])]}),_:1},8,["model"])):U("",!0)])]),_:3},8,["visible","title","confirm-button-text","cancel-button-text","confirm-button-type","icon","icon-color","width","placement","disabled"])}}},le=O(te,[["__scopeId","data-v-58d5b3c2"]]);const oe={class:"zx-popconfirm-example"},ne={class:"example-section"},ie={class:"example-demo"},se={class:"example-section"},ae={class:"example-demo"},de={class:"example-section"},re={class:"example-demo"},fe={class:"example-section"},ue={class:"example-demo"},pe={class:"example-section"},ce={class:"example-demo"},me={class:"example-section"},_e={class:"example-demo"},xe={class:"example-section"},ve={class:"example-demo"},ge={__name:"example",setup(C){const p=()=>{y.success("确认操作成功")},t=()=>{y.info("已取消操作")},c=r=>{y.success("输入的名称：".concat(r))},m=r=>{y.success("输入的备注：".concat(r||"无"))},x=()=>{y.success("保存成功")},d=r=>!r||r.trim()===""?"名称不能为空":r.length>20?"名称长度不能超过20个字符":r==="test"?"名称已存在":!0;return(r,e)=>{const s=M,a=le,b=W;return _(),q("div",oe,[e[18]||(e[18]=o("div",{class:"example-header"},[o("h2",null,"ZxPopconfirm 气泡确认框"),o("p",null,"基于 Element Plus 的气泡确认框组件，支持自定义内容、表单验证等功能。")],-1)),o("div",ne,[e[1]||(e[1]=o("h3",null,"基础用法",-1)),o("div",ie,[n(a,{title:"确定删除吗？",onConfirm:p,onCancel:t},{default:l(()=>[n(s,{type:"danger"},{default:l(()=>[...e[0]||(e[0]=[u("删除",-1)])]),_:1})]),_:1})])]),o("div",se,[e[3]||(e[3]=o("h3",null,"自定义图标和副标题",-1)),o("div",ae,[n(a,{title:"确定要执行此操作吗？",subtitle:"此操作不可撤销，请谨慎操作",icon:"Warning","icon-color":"#f56c6c",onConfirm:p,onCancel:t},{default:l(()=>[n(s,{type:"warning"},{default:l(()=>[...e[2]||(e[2]=[u("执行操作",-1)])]),_:1})]),_:1})])]),o("div",de,[e[5]||(e[5]=o("h3",null,"带输入框的确认",-1)),o("div",re,[n(a,{title:"请输入名称",subtitle:"名称不能为空且不能重复","show-input":"","input-placeholder":"请输入名称","input-validator":d,onConfirm:c,onCancel:t},{default:l(()=>[n(s,{type:"primary"},{default:l(()=>[...e[4]||(e[4]=[u("添加项目",-1)])]),_:1})]),_:1})])]),o("div",fe,[e[7]||(e[7]=o("h3",null,"带文本域的确认",-1)),o("div",ue,[n(a,{title:"请输入备注","show-textarea":"","textarea-placeholder":"请输入备注信息（可选）",onConfirm:m,onCancel:t},{default:l(()=>[n(s,null,{default:l(()=>[...e[6]||(e[6]=[u("添加备注",-1)])]),_:1})]),_:1})])]),o("div",pe,[e[9]||(e[9]=o("h3",null,"自定义按钮文本",-1)),o("div",ce,[n(a,{title:"确定要保存更改吗？","confirm-button-text":"保存","cancel-button-text":"取消","confirm-button-type":"success",onConfirm:x,onCancel:t},{default:l(()=>[n(s,{type:"success"},{default:l(()=>[...e[8]||(e[8]=[u("保存更改",-1)])]),_:1})]),_:1})])]),o("div",me,[e[12]||(e[12]=o("h3",null,"不同触发方式",-1)),o("div",_e,[n(b,null,{default:l(()=>[n(a,{title:"点击触发",trigger:"click",onConfirm:p},{default:l(()=>[n(s,null,{default:l(()=>[...e[10]||(e[10]=[u("点击触发",-1)])]),_:1})]),_:1}),n(a,{title:"悬停触发",trigger:"hover",onConfirm:p},{default:l(()=>[n(s,null,{default:l(()=>[...e[11]||(e[11]=[u("悬停触发",-1)])]),_:1})]),_:1})]),_:1})])]),o("div",xe,[e[17]||(e[17]=o("h3",null,"不同位置",-1)),o("div",ve,[n(b,{wrap:""},{default:l(()=>[n(a,{title:"顶部显示",placement:"top",onConfirm:p},{default:l(()=>[n(s,null,{default:l(()=>[...e[13]||(e[13]=[u("顶部",-1)])]),_:1})]),_:1}),n(a,{title:"右侧显示",placement:"right",onConfirm:p},{default:l(()=>[n(s,null,{default:l(()=>[...e[14]||(e[14]=[u("右侧",-1)])]),_:1})]),_:1}),n(a,{title:"底部显示",placement:"bottom",onConfirm:p},{default:l(()=>[n(s,null,{default:l(()=>[...e[15]||(e[15]=[u("底部",-1)])]),_:1})]),_:1}),n(a,{title:"左侧显示",placement:"left",onConfirm:p},{default:l(()=>[n(s,null,{default:l(()=>[...e[16]||(e[16]=[u("左侧",-1)])]),_:1})]),_:1})]),_:1})])])])}}},be=O(ge,[["__scopeId","data-v-8af4979f"]]);export{be as default};
