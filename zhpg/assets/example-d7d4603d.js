import{_ as Q,r as x,o as q,c as A,a as V,b as t,w as l,q as H,ak as T,e as p,t as S,O as g,al as J,m as W,V as X,ae as Y,af as ee,E as ae,U as te,n as le,Q as ne,p as oe,am as se,an as re,ao as ie}from"./index-b28d76a3.js";/* empty css                    *//* empty css                        */const de={class:"grid-list-example"},ue={class:"custom-pagination"},ce={__name:"example",setup(me){const r=x(),w=x("withData"),k=x([]),B=async e=>{console.log("加载数据参数:",e),await new Promise(o=>setTimeout(o,800));const{query:a={},pager:d={}}=e,{page:i=1,size:c=20}=d,h=[];for(let o=1;o<=100;o++)h.push({id:o,username:"user".concat(o),email:"user".concat(o,"@example.com"),phone:"138".concat(String(o).padStart(8,"0")),status:o%3===0?"inactive":"active",createTime:new Date(Date.now()-Math.random()*365*24*60*60*1e3).toISOString()});let m=h.filter(o=>!(a.username&&!o.username.includes(a.username)||a.email&&!o.email.includes(a.email)||a.status&&o.status!==a.status));a.sortBy&&m.sort((o,C)=>{const b=o[a.sortBy],n=C[a.sortBy],_=b>n?1:b<n?-1:0;return a.sortOrder==="descending"?-_:_});const v=m.length,u=(i-1)*c,y=u+c;return{list:m.slice(u,y),pager:{page:i,size:c,total:v}}},f=()=>{var e;(e=r.value)==null||e.loadData({},{immediate:!0})},U=()=>{var e,a;(e=r.value)==null||e.updateState("query",{}),(a=r.value)==null||a.loadData({},{immediate:!0})},E=()=>{var e;(e=r.value)==null||e.refresh()},$=({prop:e,order:a})=>{var i,c;const d={sortBy:a?e:void 0,sortOrder:a};(i=r.value)==null||i.updateState("query",{...r.value.state.query,...d}),(c=r.value)==null||c.loadData({},{immediate:!0})},L=e=>{var a,d,i;(a=r.value)==null||a.updateState("pager.size",e),(d=r.value)==null||d.updateState("pager.page",1),(i=r.value)==null||i.loadData({},{immediate:!0})},I=e=>{var a,d;(a=r.value)==null||a.updateState("pager.page",e),(d=r.value)==null||d.loadData({},{immediate:!0})},O=e=>{k.value=e,console.log("选中行:",e)},P=e=>{g.info("查看用户: ".concat(e.username))},R=e=>{g.info("编辑用户: ".concat(e.username))},N=async e=>{try{await J.confirm('确定要删除用户 "'.concat(e.username,'" 吗？'),"确认删除",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}),g.success("删除用户 ".concat(e.username," 成功")),E()}catch(a){}},K=e=>e==="active"?"success":"danger",M=e=>e==="active"?"启用":"禁用",F=e=>new Date(e).toLocaleString("zh-CN"),G=e=>{console.log("开始加载数据:",e)},Z=e=>{console.log("数据加载完成:",e),g.success("数据加载成功")},j=e=>{console.error("数据加载失败:",e),g.error("数据加载失败，请重试")};return(e,a)=>{const d=W,i=X,c=Y,h=ee,m=ae,v=te,u=le,y=ne,D=oe,o=se,C=re,b=ie;return q(),A("div",de,[a[7]||(a[7]=V("h2",null,"ZxGridList 使用示例",-1)),t(b,{modelValue:w.value,"onUpdate:modelValue":a[0]||(a[0]=n=>w.value=n),class:"demo-tabs"},{default:l(()=>[t(C,{label:"有数据状态",name:"withData"},{default:l(()=>[t(H,{ref_key:"gridRef",ref:r,"load-data":B,"show-pagination":!0,"page-sizes":[10,20,50],"default-page-size":20,"auto-refresh":{enabled:!1,interval:3e4},onBeforeLoad:G,onDataLoaded:Z,onLoadError:j},{form:l(({query:n,loading:_})=>[t(v,{inline:"",class:"search-form"},{default:l(()=>[t(i,{label:"用户名"},{default:l(()=>[t(d,{modelValue:n.username,"onUpdate:modelValue":s=>n.username=s,placeholder:"请输入用户名",clearable:"",onClear:f,onKeyup:T(f,["enter"])},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),t(i,{label:"邮箱"},{default:l(()=>[t(d,{modelValue:n.email,"onUpdate:modelValue":s=>n.email=s,placeholder:"请输入邮箱",clearable:"",onClear:f,onKeyup:T(f,["enter"])},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),t(i,{label:"状态"},{default:l(()=>[t(h,{modelValue:n.status,"onUpdate:modelValue":s=>n.status=s,placeholder:"请选择状态",clearable:""},{default:l(()=>[t(c,{label:"全部",value:""}),t(c,{label:"启用",value:"active"}),t(c,{label:"禁用",value:"inactive"})]),_:1},8,["modelValue","onUpdate:modelValue"])]),_:2},1024),t(i,null,{default:l(()=>[t(m,{type:"primary",onClick:f,loading:_},{default:l(()=>[...a[1]||(a[1]=[p(" 搜索 ",-1)])]),_:1},8,["loading"]),t(m,{onClick:U},{default:l(()=>[...a[2]||(a[2]=[p(" 重置 ",-1)])]),_:1}),t(m,{onClick:E},{default:l(()=>[...a[3]||(a[3]=[p(" 刷新 ",-1)])]),_:1})]),_:2},1024)]),_:2},1024)]),table:l(({grid:n,loading:_})=>[t(D,{data:n.list,loading:_,border:"",stripe:"",onSortChange:$,onSelectionChange:O},{default:l(()=>[t(u,{type:"selection",width:"55"}),t(u,{type:"index",label:"序号",width:"60"}),t(u,{prop:"username",label:"用户名",sortable:"custom","min-width":"120"}),t(u,{prop:"email",label:"邮箱",sortable:"custom","min-width":"180"}),t(u,{prop:"phone",label:"电话","min-width":"120"}),t(u,{prop:"status",label:"状态",width:"100"},{default:l(({row:s})=>[t(y,{type:K(s.status)},{default:l(()=>[p(S(M(s.status)),1)]),_:2},1032,["type"])]),_:1}),t(u,{prop:"createTime",label:"创建时间",sortable:"custom",width:"180"},{default:l(({row:s})=>[p(S(F(s.createTime)),1)]),_:1}),t(u,{label:"操作",width:"180",fixed:"right"},{default:l(({row:s})=>[t(m,{size:"small",onClick:z=>P(s)},{default:l(()=>[...a[4]||(a[4]=[p(" 查看 ",-1)])]),_:1},8,["onClick"]),t(m,{size:"small",type:"primary",onClick:z=>R(s)},{default:l(()=>[...a[5]||(a[5]=[p(" 编辑 ",-1)])]),_:1},8,["onClick"]),t(m,{size:"small",type:"danger",onClick:z=>N(s)},{default:l(()=>[...a[6]||(a[6]=[p(" 删除 ",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1},8,["data","loading"])]),pagination:l(({pager:n})=>[V("div",ue,[V("span",null,"共 "+S(n.total)+" 条记录",1),t(o,{total:n.total,"current-page":n.page,"page-size":n.size,"page-sizes":[10,20,50,100],layout:"sizes, prev, pager, next, jumper",onSizeChange:L,onCurrentChange:I},null,8,["total","current-page","page-size"])])]),_:1},512)]),_:1})]),_:1},8,["modelValue"])])}}},ge=Q(ce,[["__scopeId","data-v-9c185411"]]);export{ge as default};
