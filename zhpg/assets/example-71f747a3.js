import{u as H,b3 as Q,r as u,v as W,Y as q,x as X,b4 as ee,o as p,J as U,w as y,c as T,L as F,a8 as J,K as te,a as t,b5 as le,M as D,aZ as Z,b as r,d as K,b6 as ae,t as _,a0 as oe,a3 as se,b7 as M,f as O,an as ne,ao as de,_ as ue,e as ie,O as R,E as re,aJ as me,aE as ce}from"./index-b28d76a3.js";/* empty css                    */const be={class:"zx-tabs-content"},ve={key:0},pe={class:"zx-tabs-loading"},ye={key:1},k=Object.assign({name:"ZxTabs"},{__name:"index",props:{modelValue:{type:String,default:""},items:{type:Array,default:()=>[],required:!0},type:{type:String,default:"line",validator:i=>["line","card","border-card"].includes(i)},tabPosition:{type:String,default:"top",validator:i=>["top","right","bottom","left"].includes(i)},closable:{type:Boolean,default:!1},addable:{type:Boolean,default:!1},editable:{type:Boolean,default:!1},stretch:{type:Boolean,default:!1},lazy:{type:Boolean,default:!0},draggable:{type:Boolean,default:!1},trackTabRecord:{type:Boolean,default:!0},useUrlParams:{type:Boolean,default:!1},paramName:{type:String,default:"tab"},beforeLeave:{type:Function,default:null}},emits:["update:modelValue","tab-click","tab-remove","tab-add","edit","drag-ended","component-mounted"],setup(i,{emit:I}){const o=i,v=I,g=H(),c=Q(),m=u(""),z=u([]),S=W(()=>z.value),B=()=>{var l;if(o.useUrlParams){const a=c.query[o.paramName];if(a&&o.items.find(s=>s.key===a))return a}if(o.modelValue)return o.modelValue;if(o.trackTabRecord){const a=sessionStorage.getItem(c.path);if(a&&o.items.find(s=>s.key===a))return a}return((l=o.items[0])==null?void 0:l.key)||""},V=()=>{const l=B();if(m.value=l,l!==o.modelValue&&v("update:modelValue",l),o.useUrlParams&&!c.query[o.paramName]&&l){const a={...c.query};a[o.paramName]=l,g.replace({query:a})}},L=(l,a)=>{const s=l.props.name;C(s),v("tab-click",{key:s,tab:l,event:a})},C=l=>{if(m.value=l,v("update:modelValue",l),o.useUrlParams){const a={...c.query};a[o.paramName]=l,g.push({query:a})}o.trackTabRecord&&sessionStorage.setItem(c.path,l)},h=l=>{v("tab-remove",l)},b=()=>{v("tab-add")},P=(l,a)=>{v("edit",{targetName:l,action:a})},E=l=>{v("component-mounted",l)};return q(()=>o.modelValue,l=>{l!==m.value&&(m.value=l)}),q(()=>o.items,l=>{var a;if(z.value=l.map(s=>({...s,component:s.component?M(s.component):null})),!l.find(s=>s.key===m.value)){const s=(a=l[0])==null?void 0:a.key;s&&C(s)}},{immediate:!0,deep:!0}),q(()=>c.query[o.paramName],l=>{o.useUrlParams&&l&&l!==m.value&&o.items.find(s=>s.key===l)&&(m.value=l,v("update:modelValue",l))}),X(()=>{V(),o.trackTabRecord&&!sessionStorage.getItem(c.path)&&sessionStorage.setItem(c.path,m.value)}),ee(()=>{o.trackTabRecord&&sessionStorage.removeItem(c.path)}),(l,a)=>{const s=O,$=ne,A=de;return p(),U(A,{modelValue:m.value,"onUpdate:modelValue":a[0]||(a[0]=n=>m.value=n),type:i.type,closable:i.closable,addable:i.addable,editable:i.editable,"tab-position":i.tabPosition,stretch:i.stretch,"before-leave":i.beforeLeave,class:se(["zx-tabs",i.draggable?"zx-tabs-draggable":"",i.useUrlParams?"zx-tabs-url-sync":""]),onTabClick:L,onTabRemove:h,onTabAdd:b,onEdit:P},{default:y(()=>[(p(!0),T(F,null,J(S.value,(n,N)=>(p(),U($,{key:n.key,label:n.label,name:n.key,disabled:n.disabled,closable:n.closable,lazy:i.lazy},te({default:y(()=>[t("div",be,[n.component&&(!i.lazy||n.key===m.value)?(p(),T("div",ve,[(p(),U(le,null,{default:y(()=>[(p(),U(D(n.component),Z({ref_for:!0},n.props||{},{onMounted:E}),null,16))]),fallback:y(()=>[t("div",pe,[r(s,{class:"is-loading"},{default:y(()=>[r(K(ae))]),_:1}),a[1]||(a[1]=t("span",null,"加载中...",-1))])]),_:2},1024))])):n.content?(p(),T("div",ye,_(n.content),1)):oe(l.$slots,n.key,{key:2,item:n,index:N})])]),_:2},[n.labelSlot?{name:"label",fn:y(()=>[(p(),U(D(n.labelSlot),Z({ref_for:!0},n.labelProps||{}),null,16))]),key:"0"}:void 0]),1032,["label","name","disabled","closable","lazy"]))),128))]),_:3},8,["modelValue","type","closable","addable","editable","tab-position","stretch","before-leave","class"])}}});const fe={class:"zx-tabs-example"},ke={class:"demo-section"},ge={class:"demo-section"},Ve={class:"demo-section"},xe={class:"demo-section"},Te={class:"demo-section"},ze={class:"demo-section"},Ue={class:"demo-section"},Ie={class:"demo-section"},Se={class:"demo-section"},Be={class:"custom-content"},Ce={class:"custom-content"},Re={class:"demo-section"},_e={class:"event-log"},Le={class:"log-time"},he={class:"log-event"},Pe={class:"log-data"},Ee={__name:"example",setup(i){const I=u("tab1"),o=u("card1"),v=u("border1"),g=u("edit1"),c=u("url1"),m=u("lazy1"),z=u("vertical1"),S=u("stretch1"),B=u("custom1"),V=u([]),L=u([{key:"tab1",label:"用户管理",content:"这是用户管理的内容区域，可以在这里管理系统用户。"},{key:"tab2",label:"角色管理",content:"这是角色管理的内容区域，可以在这里配置用户角色和权限。"},{key:"tab3",label:"系统设置",content:"这是系统设置的内容区域，可以在这里配置系统参数。"}]),C=u([{key:"card1",label:"概览",content:"系统概览信息展示"},{key:"card2",label:"统计",content:"数据统计图表展示"},{key:"card3",label:"报告",content:"系统报告生成和下载"}]),h=u([{key:"border1",label:"任务列表",content:"当前待处理的任务列表"},{key:"border2",label:"已完成",content:"已完成的任务记录"}]),b=u([{key:"edit1",label:"标签页 1",content:"可编辑标签页内容 1",closable:!0},{key:"edit2",label:"标签页 2",content:"可编辑标签页内容 2",closable:!0}]),P=u([{key:"url1",label:"首页",content:"首页内容，URL参数会同步更新"},{key:"url2",label:"产品",content:"产品页面内容"},{key:"url3",label:"关于",content:"关于页面内容"}]),E=M({template:'\n    <div style="padding: 20px; background: #f0f9ff; border-radius: 4px;">\n      <h4>懒加载组件 1</h4>\n      <p>这是一个懒加载的组件，只有在切换到此标签页时才会加载。</p>\n      <el-button type="primary" @click="handleClick">点击测试</el-button>\n    </div>\n  ',setup(){return{handleClick:()=>{R.success("懒加载组件 1 被点击了！")}}}}),l=M({template:'\n    <div style="padding: 20px; background: #f0f2f5; border-radius: 4px;">\n      <h4>懒加载组件 2</h4>\n      <p>另一个懒加载组件，展示不同的内容。</p>\n      <el-tag type="success">成功标签</el-tag>\n    </div>\n  '}),a=u([{key:"lazy1",label:"懒加载 1",component:E},{key:"lazy2",label:"懒加载 2",component:l}]),s=u([{key:"vertical1",label:"导航一",content:"垂直导航内容 1"},{key:"vertical2",label:"导航二",content:"垂直导航内容 2"},{key:"vertical3",label:"导航三",content:"垂直导航内容 3"}]),$=u([{key:"stretch1",label:"选项A",content:"拉伸标签页内容 A"},{key:"stretch2",label:"选项B",content:"拉伸标签页内容 B"},{key:"stretch3",label:"选项C",content:"拉伸标签页内容 C"}]),A=u([{key:"custom1",label:"自定义 1"},{key:"custom2",label:"自定义 2"}]),n=(f,e="")=>{const x=new Date().toLocaleTimeString();V.value.unshift({time:x,event:f,data:e}),V.value.length>10&&(V.value=V.value.slice(0,10))},N=()=>{const f="edit".concat(b.value.length+1),e={key:f,label:"标签页 ".concat(b.value.length+1),content:"新增的标签页内容 ".concat(b.value.length+1),closable:!0};b.value.push(e),g.value=f,n("标签页添加","新增标签页: ".concat(e.label)),R.success("标签页添加成功")},j=f=>{const e=b.value.findIndex(x=>x.key===f);if(e>-1){const x=b.value[e];b.value.splice(e,1),g.value===f&&b.value.length>0&&(g.value=b.value[Math.max(0,e-1)].key),n("标签页删除","删除标签页: ".concat(x.label)),R.success("标签页删除成功")}},Y=()=>{V.value=[],R.info("日志已清空")};return(f,e)=>{const x=O,w=re;return p(),T("div",fe,[e[31]||(e[31]=t("div",{class:"example-header"},[t("h2",null,"ZxTabs 标签页组件演示"),t("p",null,"基于 Element Plus 的增强标签页组件，支持拖拽排序、URL同步、懒加载等功能")],-1)),t("div",ke,[e[9]||(e[9]=t("h3",null,"基础用法",-1)),e[10]||(e[10]=t("p",null,"最简单的标签页用法",-1)),r(k,{modelValue:I.value,"onUpdate:modelValue":e[0]||(e[0]=d=>I.value=d),items:L.value},null,8,["modelValue","items"])]),t("div",ge,[e[11]||(e[11]=t("h3",null,"卡片类型",-1)),e[12]||(e[12]=t("p",null,"卡片样式的标签页",-1)),r(k,{modelValue:o.value,"onUpdate:modelValue":e[1]||(e[1]=d=>o.value=d),items:C.value,type:"card"},null,8,["modelValue","items"])]),t("div",Ve,[e[13]||(e[13]=t("h3",null,"边框卡片类型",-1)),e[14]||(e[14]=t("p",null,"带边框的卡片样式",-1)),r(k,{modelValue:v.value,"onUpdate:modelValue":e[2]||(e[2]=d=>v.value=d),items:h.value,type:"border-card"},null,8,["modelValue","items"])]),t("div",xe,[e[15]||(e[15]=t("h3",null,"可编辑标签页",-1)),e[16]||(e[16]=t("p",null,"支持新增和删除标签页",-1)),r(k,{modelValue:g.value,"onUpdate:modelValue":e[3]||(e[3]=d=>g.value=d),items:b.value,editable:"",onTabAdd:N,onTabRemove:j},null,8,["modelValue","items"])]),t("div",Te,[e[17]||(e[17]=t("h3",null,"URL参数同步",-1)),e[18]||(e[18]=t("p",null,"标签页状态与URL参数同步，刷新页面保持状态",-1)),r(k,{modelValue:c.value,"onUpdate:modelValue":e[4]||(e[4]=d=>c.value=d),items:P.value,"use-url-params":"","param-name":"demo-tab"},null,8,["modelValue","items"])]),t("div",ze,[e[19]||(e[19]=t("h3",null,"组件懒加载",-1)),e[20]||(e[20]=t("p",null,"标签页内容支持组件懒加载",-1)),r(k,{modelValue:m.value,"onUpdate:modelValue":e[5]||(e[5]=d=>m.value=d),items:a.value,lazy:""},null,8,["modelValue","items"])]),t("div",Ue,[e[21]||(e[21]=t("h3",null,"垂直标签页",-1)),e[22]||(e[22]=t("p",null,"标签页位置在左侧",-1)),r(k,{modelValue:z.value,"onUpdate:modelValue":e[6]||(e[6]=d=>z.value=d),items:s.value,"tab-position":"left",style:{height:"300px"}},null,8,["modelValue","items"])]),t("div",Ie,[e[23]||(e[23]=t("h3",null,"拉伸标签页",-1)),e[24]||(e[24]=t("p",null,"标签页平均分布",-1)),r(k,{modelValue:S.value,"onUpdate:modelValue":e[7]||(e[7]=d=>S.value=d),items:$.value,stretch:""},null,8,["modelValue","items"])]),t("div",Se,[e[27]||(e[27]=t("h3",null,"自定义标签内容",-1)),e[28]||(e[28]=t("p",null,"使用插槽自定义标签页内容",-1)),r(k,{modelValue:B.value,"onUpdate:modelValue":e[8]||(e[8]=d=>B.value=d),items:A.value},{custom1:y(()=>[t("div",Be,[r(x,null,{default:y(()=>[r(K(me))]),_:1}),e[25]||(e[25]=t("span",null,"这是自定义内容 1",-1))])]),custom2:y(()=>[t("div",Ce,[r(x,null,{default:y(()=>[r(K(ce))]),_:1}),e[26]||(e[26]=t("span",null,"这是自定义内容 2",-1))])]),_:1},8,["modelValue","items"])]),t("div",Re,[e[30]||(e[30]=t("h3",null,"事件日志",-1)),t("div",_e,[(p(!0),T(F,null,J(V.value,(d,G)=>(p(),T("div",{key:G,class:"log-item"},[t("span",Le,_(d.time),1),t("span",he,_(d.event),1),t("span",Pe,_(d.data),1)]))),128))]),r(w,{onClick:Y,size:"small"},{default:y(()=>[...e[29]||(e[29]=[ie("清空日志",-1)])]),_:1})])])}}},Ne=ue(Ee,[["__scopeId","data-v-668a014a"]]);export{Ne as default};
