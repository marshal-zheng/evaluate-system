import{r as a,v as O,Y as j,x as K,o as A,J as L,w as F,b as u,d as P,b0 as $,aZ as U,K as N,a8 as J,a0 as E,b1 as I,b2 as T,s as Z,_ as D,c as M,a as l,t as b,O as B}from"./index-b28d76a3.js";const d=Object.assign({name:"ZxAutoComplete",inheritAttrs:!1},{__name:"index",props:{modelValue:{type:String,default:""},options:{type:[Array,Function],default:()=>[]},labelKey:{type:String,default:"label"},valueKey:{type:String,default:"value"},tooltip:{type:Object,default:()=>({})},allowClear:{type:Boolean,default:!0},filterOption:{type:Function,default:null}},emits:["update:modelValue","select","change","focus","blur"],setup(h,{emit:c}){const o=h,n=c,i=a(o.modelValue),r=a(!1),v=a([]),p=a(!1),m=O(()=>!!(o.tooltip.title||o.tooltip.content)),f=O(()=>({placement:"right",...o.tooltip,open:p.value})),y=O(()=>v.value.map(e=>e.options?{label:e[o.labelKey],options:e.options.map(t=>({label:t[o.labelKey],value:t[o.valueKey]}))}:{label:e[o.labelKey],value:e[o.valueKey],...e})),V=(e,t)=>t.label.toLowerCase().includes(e.toLowerCase()),g=async e=>{r.value=!0;try{let t;typeof o.options=="function"?t=await o.options(e):t=o.options,v.value=t||[]}catch(t){console.error("Failed to load options:",t),v.value=[]}finally{r.value=!1}},_=(e,t)=>{const w=o.filterOption||V,x=y.value.filter(k=>e?w(e,k):!0);t(x)},z=e=>{m.value&&(p.value=!0),n("focus",e)},S=e=>{m.value&&(p.value=!1),n("blur",e)},C=e=>{n("select",e)},s=e=>{n("update:modelValue",e),n("change",e)};return j(()=>o.modelValue,e=>{i.value=e}),j(()=>i.value,e=>{n("update:modelValue",e)}),K(()=>{g()}),(e,t)=>(A(),L(Z,U(f.value,{class:["zx-auto-complete",{"zx-auto-complete--with-tooltip":m.value}]}),{default:F(()=>[u(P($),U({modelValue:i.value,"onUpdate:modelValue":t[0]||(t[0]=w=>i.value=w)},e.$attrs,{"fetch-suggestions":_,clearable:h.allowClear,loading:r.value,onFocus:z,onBlur:S,onSelect:C,onChange:s}),N({_:2},[J(e.$slots,(w,x)=>({name:x,fn:F(k=>[E(e.$slots,x,I(T(k)))])}))]),1040,["modelValue","clearable","loading"])]),_:3},16,["class"]))}});const R={class:"zx-auto-complete-demo"},W={class:"demo-section"},X={class:"demo-block"},Y={class:"demo-result"},G={class:"demo-section"},H={class:"demo-block"},Q={class:"demo-section"},q={class:"demo-block"},ee={class:"demo-result"},le={class:"demo-section"},te={class:"demo-block"},oe={class:"demo-result"},ae={class:"demo-section"},se={class:"demo-block"},ne={class:"demo-section"},ue={class:"demo-block"},de={class:"size-demo"},ie={class:"size-item"},re={class:"size-item"},pe={class:"size-item"},ve={__name:"example",setup(h){const c=a(""),o=a(null),n=a([{label:"Vue.js",value:"vue"},{label:"React",value:"react"},{label:"Angular",value:"angular"},{label:"Svelte",value:"svelte"},{label:"Next.js",value:"nextjs"},{label:"Nuxt.js",value:"nuxtjs"},{label:"Vite",value:"vite"},{label:"Webpack",value:"webpack"}]),i=a(""),r=a(""),v=a(null),p=a(""),m=a([{label:"JavaScript 开发工程师",value:"js-dev",category:"frontend"},{label:"Python 开发工程师",value:"py-dev",category:"backend"},{label:"Java 开发工程师",value:"java-dev",category:"backend"},{label:"UI/UX 设计师",value:"ui-designer",category:"design"},{label:"产品经理",value:"pm",category:"product"},{label:"数据分析师",value:"data-analyst",category:"data"}]),f=a(""),y=a(""),V=a(""),g=a(""),_=s=>{o.value=s,B.success("选中了: ".concat(s.label))},z=s=>{v.value=s,B.success("异步选中了: ".concat(s.label))},S=async s=>{await new Promise(t=>setTimeout(t,500));const e=[{label:"北京市",value:"beijing"},{label:"上海市",value:"shanghai"},{label:"广州市",value:"guangzhou"},{label:"深圳市",value:"shenzhen"},{label:"杭州市",value:"hangzhou"},{label:"南京市",value:"nanjing"},{label:"武汉市",value:"wuhan"},{label:"成都市",value:"chengdu"}];return s&&s.trim()?e.filter(t=>t.label.includes(s)||t.value.includes(s)):e},C=(s,e)=>{const t=s.toLowerCase();return e.label.toLowerCase().includes(t)||e.value.toLowerCase().includes(t)||e.category.toLowerCase().includes(t)};return(s,e)=>(A(),M("div",R,[e[23]||(e[23]=l("div",{class:"demo-header"},[l("h1",null,"ZxAutoComplete 自动完成组件"),l("p",null,"基于 Element Plus 的增强自动完成组件，支持异步数据加载、自定义过滤和提示功能。")],-1)),l("div",W,[e[8]||(e[8]=l("h2",null,"基础用法",-1)),e[9]||(e[9]=l("p",null,"最简单的用法，提供静态数据源。",-1)),l("div",X,[u(d,{modelValue:c.value,"onUpdate:modelValue":e[0]||(e[0]=t=>c.value=t),options:n.value,placeholder:"请输入搜索内容",style:{width:"300px"},onSelect:_},null,8,["modelValue","options"]),l("div",Y,[l("p",null,"当前值: "+b(c.value),1),l("p",null,"选中项: "+b(JSON.stringify(o.value)),1)])])]),l("div",G,[e[10]||(e[10]=l("h2",null,"带提示的自动完成",-1)),e[11]||(e[11]=l("p",null,"为输入框添加提示信息，提升用户体验。",-1)),l("div",H,[u(d,{modelValue:i.value,"onUpdate:modelValue":e[1]||(e[1]=t=>i.value=t),options:n.value,tooltip:{title:"搜索提示",content:"输入关键词进行搜索，支持模糊匹配"},placeholder:"带提示的自动完成",style:{width:"300px"}},null,8,["modelValue","options"])])]),l("div",Q,[e[12]||(e[12]=l("h2",null,"异步数据加载",-1)),e[13]||(e[13]=l("p",null,"支持异步函数作为数据源，适用于远程搜索场景。",-1)),l("div",q,[u(d,{modelValue:r.value,"onUpdate:modelValue":e[2]||(e[2]=t=>r.value=t),options:S,placeholder:"异步加载数据",style:{width:"300px"},onSelect:z},null,8,["modelValue"]),l("div",ee,[l("p",null,"当前值: "+b(r.value),1),l("p",null,"选中项: "+b(JSON.stringify(v.value)),1)])])]),l("div",le,[e[14]||(e[14]=l("h2",null,"自定义过滤",-1)),e[15]||(e[15]=l("p",null,"使用自定义过滤函数，实现更精确的搜索逻辑。",-1)),l("div",te,[u(d,{modelValue:p.value,"onUpdate:modelValue":e[3]||(e[3]=t=>p.value=t),options:m.value,"filter-option":C,placeholder:"自定义过滤规则",style:{width:"300px"}},null,8,["modelValue","options"]),l("div",oe,[l("p",null,"当前值: "+b(p.value),1)])])]),l("div",ae,[e[16]||(e[16]=l("h2",null,"禁用清除按钮",-1)),e[17]||(e[17]=l("p",null,"通过设置 allowClear 为 false 禁用清除按钮。",-1)),l("div",se,[u(d,{modelValue:f.value,"onUpdate:modelValue":e[4]||(e[4]=t=>f.value=t),options:n.value,"allow-clear":!1,placeholder:"不可清除",style:{width:"300px"}},null,8,["modelValue","options"])])]),l("div",ne,[e[21]||(e[21]=l("h2",null,"不同尺寸",-1)),e[22]||(e[22]=l("p",null,"提供大、中、小三种尺寸。",-1)),l("div",ue,[l("div",de,[l("div",ie,[e[18]||(e[18]=l("label",null,"大尺寸:",-1)),u(d,{modelValue:y.value,"onUpdate:modelValue":e[5]||(e[5]=t=>y.value=t),options:n.value,size:"large",placeholder:"大尺寸",style:{width:"200px"}},null,8,["modelValue","options"])]),l("div",re,[e[19]||(e[19]=l("label",null,"默认尺寸:",-1)),u(d,{modelValue:V.value,"onUpdate:modelValue":e[6]||(e[6]=t=>V.value=t),options:n.value,placeholder:"默认尺寸",style:{width:"200px"}},null,8,["modelValue","options"])]),l("div",pe,[e[20]||(e[20]=l("label",null,"小尺寸:",-1)),u(d,{modelValue:g.value,"onUpdate:modelValue":e[7]||(e[7]=t=>g.value=t),options:n.value,size:"small",placeholder:"小尺寸",style:{width:"200px"}},null,8,["modelValue","options"])])])])])]))}},me=D(ve,[["__scopeId","data-v-2d542d95"]]);export{me as default};
